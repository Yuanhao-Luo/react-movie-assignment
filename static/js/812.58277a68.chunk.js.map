{"version":3,"file":"static/js/812.58277a68.chunk.js","mappings":"4LA4CA,UApCiB,SAACA,GAIhB,IACMC,EAHG,IAAIC,iBAAgBC,EAAAA,EAAAA,MAAcC,QAGxBC,IAAI,QAEvB,GAA8CC,EAAAA,EAAAA,UAAS,CAAC,WAAY,CAACL,KAAMA,IAAQM,EAAAA,IAA1EC,EAAT,EAASA,KAAMC,EAAf,EAAeA,MAAOC,EAAtB,EAAsBA,UAAWC,EAAjC,EAAiCA,QAEjC,GAAID,EACF,OAAO,SAAC,IAAD,IAGT,GAAIC,EACF,OAAO,wBAAKF,EAAMG,UAEpB,IAAMC,EAASL,EAAKM,QACdC,EAAYP,EAAKQ,YAGjBC,EAAYJ,EAAOK,QAAO,SAAAC,GAAC,OAAIA,EAAEC,QAAN,IAIjC,OAHAC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUP,KAI/C,SAAC,IAAD,CACEQ,MAAM,kBACNZ,OAAQA,EACRa,OAAQ,SAACC,GACP,OAAO,SAAC,IAAD,CAAoBA,MAAOA,GACnC,EACD1B,KAAMA,EACNc,UAAaA,GAGlB,C","sources":["pages/homePage.js"],"sourcesContent":["import React from \"react\";\r\nimport { getMovies } from \"../api/tmdb-api\";\r\nimport PageTemplate from '../components/templateMovieListPage';\r\nimport { useQuery } from 'react-query';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Spinner from '../components/spinner';\r\nimport AddToFavoritesIcon from '../components/cardIcons/addToFavorites'\r\n\r\nconst HomePage = (props) => {\r\n  function useQ() {\r\n    return new URLSearchParams(useLocation().search);\r\n  }\r\n  const query = useQ()\r\n  const page = query.get('page') \r\n\r\n  const {  data, error, isLoading, isError }  = useQuery(['discover', {page: page}], getMovies)\r\n\r\n  if (isLoading) {\r\n    return <Spinner />\r\n  }\r\n\r\n  if (isError) {\r\n    return <h1>{error.message}</h1>\r\n  }  \r\n  const movies = data.results;\r\n  const totalPage = data.total_pages;\r\n\r\n  // Redundant, but necessary to avoid app crashing.\r\n  const favorites = movies.filter(m => m.favorite)\r\n  localStorage.setItem('favorites', JSON.stringify(favorites))\r\n  // const addToFavorites = (movieId) => true \r\n\r\n  return (\r\n    <PageTemplate\r\n      title=\"Discover Movies\"\r\n      movies={movies}\r\n      action={(movie) => {\r\n        return <AddToFavoritesIcon movie={movie} />\r\n      }}\r\n      page={page}\r\n      totalPage = {totalPage}\r\n    />\r\n  );\r\n};\r\nexport default HomePage;"],"names":["props","page","URLSearchParams","useLocation","search","get","useQuery","getMovies","data","error","isLoading","isError","message","movies","results","totalPage","total_pages","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","title","action","movie"],"sourceRoot":""}